var searchButton=document.querySelector(".search"),showNameInput=document.querySelector("#showInput"),loadingMessage=document.querySelector("#loadingMessage"),table=document.querySelector("table");searchButton.addEventListener("click",()=>{const s=showNameInput.value.toLowerCase(),h=`https://api.tvmaze.com/search/shows?q=${s}`;loadingMessage.style.display="block",fetch(h).then(t=>t.json()).then(t=>{const r=document.querySelector("tbody");r.innerHTML="";const l=t.filter(c=>c.show.name.toLowerCase().includes(s)),a=document.createElement("div");a.style.display="block",l.length===0?(a.textContent="No such show found!",table.parentNode.insertBefore(a,table.nextSibling)):l.forEach(c=>{const e=c.show,n=document.createElement("tr"),d=document.createElement("td");d.innerText=e.name;const i=document.createElement("td");i.innerText=e.rating?e.rating.average:"N/A";const m=document.createElement("td");m.innerText=e.genres.join(", ");const o=document.createElement("td");o.innerHTML=e.summary.replace(/<\/?p>/g,""),o.innerHTML=o.innerHTML.replace(/<b>/g,"").replace(/<\/b>/g,""),n.appendChild(d),n.appendChild(i),n.appendChild(m),n.appendChild(o),r.appendChild(n),r.style.backgroundColor="#eee"}),loadingMessage.style.display="none"}).catch(t=>{console.error(t),loadingMessage.style.display="none"})});
